console.log("You are Offline!");let user=null;function printBookmarks(e){if(!e||!e.length)return;const t=document.getElementById("bookmarks");if(!t)return;const n=document.createDocumentFragment(),r=e.length;for(let t=0;t<r;++t){const r=e[t]||{},o=document.createElement("article");o.classList.add("bookmark","card-background","lazy");const a=(r.title||"").toString().trim(),s=(r.link||"").toString(),c=(r.tags||"").toString();o.dataset.search=a+";"+s+";"+c,o.dataset.tags=c,a&&o.setAttribute("brand",a.toLowerCase());const l=document.createElement("header"),i=document.createElement("a");i.classList.add("card-title"),i.rel="noopener noreferrer",i.target="_self",i.href=s||"#",i.textContent=a||s||"Untitled",l.appendChild(i);const d=document.createElement("a");d.rel="noopener noreferrer",d.target="_self",d.href=s||"#";const m=document.createElement("span");m.classList.add("card-spanner"),d.appendChild(m),o.appendChild(l),o.appendChild(d),n.appendChild(o)}t.appendChild(n)}fetch("/user.json").then((e=>{if(!e||!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){user=e,printBookmarks(user.Bookmarks||[]);var t=document.createElement("script");t.src="assets/js/main.min.js",document.head.appendChild(t)})).catch((function(e){if(console.warn("Unable to fetch /user.json from network:",e&&e.message),"undefined"!=typeof caches&&caches.match)caches.match("/user.json").then((function(e){return e?function(e){if(!e)return Promise.reject(new Error("no response"));try{return e.json()}catch(e){return Promise.reject(e)}}(e):Promise.reject(new Error("no cached user.json"))})).then((function(e){user=e,printBookmarks(user.Bookmarks||[])})).catch((function(){try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);return user=t,void printBookmarks(user.Bookmarks||[])}}catch(e){console.warn("localStorage read failed",e&&e.message)}const e=document.getElementById("bookmarks");if(e){const t=document.createElement("p");t.className="notice",t.textContent="No bookmarks available offline.",e.appendChild(t)}}));else{try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);return user=t,void printBookmarks(user.Bookmarks||[])}}catch(e){console.warn("localStorage read failed",e&&e.message)}const e=document.getElementById("bookmarks");if(e){const t=document.createElement("p");t.className="notice",t.textContent="No bookmarks available offline.",e.appendChild(t)}}}));